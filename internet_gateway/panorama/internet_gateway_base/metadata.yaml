name: internet_gateway_base_panorama
label: Internet Gateway Base Snippets
description: Internet Gateway Base
type: baseline
extends: snippets_dgstack_notshared

labels:
  service_type: internet_gateway_base

variables:
  - name: IG_BASE_TPL
    description: baseline template for internet gateway
    default: ig_base_tpl
  - name: FW_NAME
    description: Device Name
    default: panos-01
    type_hint: text
  - name: INTF_TRUST
    description: Trust Interface
    default: ethernet1/1
    type_hint: text
  - name: INTF_UNTRUST
    description: Untrust Interface
    default: ethernet1/2
    type_hint: text
  - name: IP_12
    description: IP 12
    default: 192.168.1.1/24
    type_hint: ip_address
  - name: ZONE_TRUST
    description: trust zone
    default: trust
    type_hint: text
  - name: ZONE_UNTRUST
    description: untrust zone name
    default: internet
    type_hint: text

snippets:
  - name: template
    xpath: /config/devices/entry[@name='localhost.localdomain']/template
    file: template.xml
  - name: stack
    xpath: /config/devices/entry[@name='localhost.localdomain']/template-stack
    file: template_stack.xml
  - name: network_profiles-network-profiles
    xpath: /config/devices/entry[@name='localhost.localdomain']/template/entry[@name='{{ IG_BASE_TPL }}']/config/devices/entry[@name='localhost.localdomain']/network/profiles
    file: network_profiles.xml
  - name: interface
    xpath: /config/devices/entry[@name='localhost.localdomain']/template/entry[@name='{{ IG_BASE_TPL }}']/config/devices/entry[@name='localhost.localdomain']/network/interface
    file: interface.xml
  - name: virtual_router
    xpath: /config/devices/entry[@name='localhost.localdomain']/template/entry[@name='{{ IG_BASE_TPL }}']/config/devices/entry[@name='localhost.localdomain']/network/virtual-router
    file: virtual_router.xml
  - name: import_zone_interface
    xpath: /config/devices/entry[@name='localhost.localdomain']/template/entry[@name='{{ IG_BASE_TPL }}']/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/import
    file: zone_import_interface.xml
  - name: zone
    xpath: /config/devices/entry[@name='localhost.localdomain']/template/entry[@name='{{ IG_BASE_TPL }}']/config/devices/entry[@name='localhost.localdomain']/vsys/entry[@name='vsys1']/zone
    file: zone.xml
  - name: nat-source-nat-to-untrust
    xpath: /config/devices/entry[@name='localhost.localdomain']/device-group/entry[@name='{{ FW_NAME }}']/post-rulebase/nat
    file: source_nat_to_untrust.xml


